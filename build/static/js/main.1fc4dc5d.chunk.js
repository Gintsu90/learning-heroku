(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{20:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var c=n(2),o=n.n(c),r=n(15),a=n.n(r),i=(n(20),n(6)),u=n(4),s=n(0),j=function(t){var e=t.note,n=t.toggleImportance,c=e.important?"make not important":"make important";return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{className:"note",children:e.content}),Object(s.jsx)("button",{onClick:n,children:c})]})},l=n(3),f=n.n(l),b="/api/notes",d=function(){return f.a.get(b).then((function(t){return t.data}))},O=function(t){return f.a.post(b,t).then((function(t){return t.data}))},h=function(t,e){return f.a.put("".concat(b,"/").concat(t),e).then((function(t){return t.data}))},m=function(t){var e=t.message;return Object(s.jsx)(s.Fragment,{children:e?Object(s.jsx)("div",{className:"error"}):""})},p=function(){return Object(s.jsx)("div",{style:{color:"green",fontStyle:"italic",fontSize:16,padding:10},children:Object(s.jsx)("em",{children:"Note app, learning Heroku"})})};var g=function(t){var e=Object(c.useState)([]),n=Object(u.a)(e,2),o=n[0],r=n[1],a=Object(c.useState)("a new note..."),l=Object(u.a)(a,2),f=l[0],b=l[1],g=Object(c.useState)(!0),x=Object(u.a)(g,2),v=x[0],S=x[1],k=Object(c.useState)(""),w=Object(u.a)(k,2),y=w[0],N=w[1];Object(c.useEffect)((function(){console.log("effect"),d().then((function(t){console.log(t),r(t)}))}),[]),console.log("render",o.length,"notes");var I=v?o:o.filter((function(t){return t.important}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Notes"}),Object(s.jsx)(m,{message:y}),Object(s.jsx)("div",{children:Object(s.jsxs)("button",{onClick:function(){return S(!v)},children:["show ",v?"important":"all"]})}),Object(s.jsx)("ul",{children:I.map((function(t){return Object(s.jsx)(j,{toggleImportance:function(){return function(t){var e=o.find((function(e){return e.id===t})),n=Object(i.a)(Object(i.a)({},e),{},{important:!e.important});h(t,n).then((function(e){r(o.map((function(n){return n.id!==t?n:e})))})).catch((function(n){N("Note '".concat(e.content,"' was already removed from the server")),setTimeout((function(){N(null)}),5e3),r(o.filter((function(e){return e.id!==t})))}))}(t.id)},note:t},t.id)}))}),Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={content:f,date:(new Date).toISOString(),important:Math.random()<.5};O(e).then((function(t){console.log(t),r(o.concat(t)),b("")}))},children:[Object(s.jsx)("input",{value:f,onChange:function(t){console.log("#",t.target.value),b(t.target.value)}}),Object(s.jsx)("button",{type:"submit",children:"save"})]}),Object(s.jsx)(p,{})]})};a.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.1fc4dc5d.chunk.js.map